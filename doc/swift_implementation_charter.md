### Swift 実装時の憲章（v1.0）

---

1. **Value Semantics** を基本とすること

   * 構造体（`struct`）と純粋関数によって状態と処理を構成する

2. **Protocol-Oriented Programming（POP）** で設計すること

   * 継承ではなく委譲と合成を優先し、protocol を通じた抽象化を行う

3. **単一責任原則（SRP）** に従うこと

   * モジュール・型・関数は、1つの文脈・関心のみに責務を持つ

4. **開放閉鎖原則（OCP）** に従うこと

   * 修正ではなく拡張によって振る舞いを変えられるよう設計する

5. **意味の異なることを1つの型・構造にまとめないこと。**

   * 文脈の異なる概念を強引に1つの構造体や enum に統合しない

6. **抽象化は用途の明確な分離が存在する場合にのみ行うこと。**

   * 無意味な protocol 定義や過剰なジェネリクスの使用を避ける

7. **Dependency Inversion（DIP）は外部依存に限定して適用すること。**

   * ネットワークやストレージなどの変更頻度が高い外部に対してのみ抽象化する

8. **非同期・並列文脈では再入防止を意識した設計をすること。**

   * Actor や Task を使う場合、排他性や順序の保証を考慮する

9. **Swift 6.1 に準拠した構文と言語機能を使用すること。**

   * コンパイラフラグやモダンな構文を積極的に活用する

10. **コメントは、コードからは直接読み取れない意図・前提条件のみを英語で記述すること。**

    * コメントには、「なぜこの設計が選ばれたのか」「この実装が満たすべき非機能要件」「将来的な拡張や制限の背景」など、コードの構造や動作からは明示されない判断基準のみを記述する
    * 以下のようなコメントは記述してはならない：

      * コードの内容や動作を繰り返す説明（例：`// increment count`）
      * 修正履歴や作業メモ（例：`// added for debugging`）
      * 日本語による記述

11. **命名は Swift および iOS の公式ライブラリ・フレームワークにおける慣例に従うこと。**

    * 型名・メソッド名は Apple 純正の命名規則を参考にし、責務が明確で自然言語としても意味が通る名前を用いること
    * `Manager`, `Handler`, `Interactor` のような抽象的かつ曖昧な型名は、明確な文脈と責務がある場合を除き避けること
    * 命名には Swift の API Design Guidelines に従うこと
    * 関数やメソッドには引数ラベルを適切に付け、関数呼び出しが自然言語として読めるように設計すること

